{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1488409064,"metadata":{"github-id":"MDU6SXNzdWUyMTEyMzU2NTM=","github-url":"https://github.com/perl11/cperl/issues/258","origin":"github"},"title":"wrong list assign type check","message":"-we `( my int $integer ) = @_;`\n=\u003e Type of list assignment to $integer must be int (not Hash)\n\nwhich is code used in rperl.\n\nMany errors here:\n1. rv2av @_ = Array not Hash\n2. scalar = list; =\u003e scalar = shift list\n\nFurthermore: the type checker does not descend into aggregates.\n```\npackage Bla;\nmy Bla @a;\nmy int $arg = $a[0];\n```\n=\u003e Type of scalar assignment to $arg must be int (not Bla)\n\nSame with shift @a and the other array access ops.\n\nThis is also broken:\n`-we'(my int $i) = @ARGV; print $i' xx`\n`@ARGV` has implicit type `:Array(:Str)`","files":null}]}