{"version":1,"ops":[{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1442486003,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQxMTk1NTY3Mg=="},"added":["help wanted"],"removed":[]},{"type":3,"author":{"id":"81b853802ee58295b1b56dc1253b74e7b177b9de"},"timestamp":1442583624,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTQ1NDM2OA==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141454368"},"message":"VC 2014 doesn't exist. Do you mean VC 2013? P5P 5.22.0 and P5P 5.20.0 officially supports VC 2013 so cperl does too. VC 2015 wont be P5P supported for a long time if ever due to MS libc being rewritten from scratch by MS in C++ for no good reason for the 2015 release. P5P blead doesnt support VC 2015.\n\nThe appveyor failure which I am copyign below I can easily reproduce.\n\n```\nBuild started\ngit config --global core.autocrlf input\ngit clone -q --depth=1 https://github.com/perl11/cperl.git C:\\projects\\cperl\ngit fetch -q origin +refs/pull/48/merge:\ngit checkout -qf FETCH_HEAD\ncd win32\ncall \"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\vcvarsall.bat\" amd64\nnmake WIN64=1 CCTYPE=MSVC120\n\nMicrosoft (R) Program Maintenance Utility Version 14.00.23026.0\nCopyright (C) Microsoft Corporation. All rights reserved.\n\ndel /f config.h\nCould Not Find C:\\projects\\cperl\\win32\\config.h\ncopy config_H.vc config.h\n1 file(s) copied.\nif not exist \".\\mini\" mkdir \".\\mini\"\ncl -c -nologo -GF -W3 -I..\\lib\\CORE -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -D_CRT_SECURE_NO_DEPRECATE -D_CRT_NONSTDC_NO_DEPRECATE -DPERLDLL -DPERL_CORE -O1 -MD -Zi -DNDEBUG -GL -DPERL_EXTERNAL_GLOB -DPERL_IS_MINIPERL -Fo.\\mini\\av.obj ..\\av.c\nav.c\nc:\\projects\\cperl\\perl.h(679): fatal error C1083: Cannot open include file: 'sys/types.h': No such file or directory \nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64\\cl.EXE\"' : return code '0x2'\nStop.\nCommand exited with code 2\n```\n\nmy reproduction\n\n```\nC:\\sources\\cperl\\win32\u003eset INCLUDE=\n\nC:\\sources\\cperl\\win32\u003edmake test  CCTYPE=MSVC70\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\dump.obj]\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\pp_sys.obj]\n\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\toke.obj]\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\utf8.obj]\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\dump.obj]\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\pp_sys.obj]\n\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\toke.obj]\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\utf8.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\dump.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\pp_sys.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\toke.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\utf8.obj]\nif not exist \".\\mini\" mkdir \".\\mini\"\nif exist config.h del /f config.h\ncopy config_H.vc config.h\n        1 file(s) copied.\nrem. \u003e .\\mini\\.exists\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\toke.obj -Fdmini\\toke.pdb ..\\toke.c\ntoke.c\nc:\\sources\\cperl\\perl.h(679) : fatal error C1083: Cannot open include file: 'sys\n/types.h': No such file or directory\ndmake:  Error code 130, while making 'mini\\toke.obj'\n\nC:\\sources\\cperl\\win32\u003e\n```\n\nsomething isn't right with \n\n```\ncall \"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\vcvarsall.bat\" amd64\nnmake WIN64=1 CCTYPE=MSVC120\n```\n\nThe env vars are never actually set in the parent console. The \"call\" looks suspicious and maybe wrong but  I dont have time to research it this minue.\n\n```\n```","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1442590469,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTQ4NDM0MA==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141484340"},"message":"I try to configure a win32 smoker.\n\nappveyor offers only `Visual Studio 2014 CTP4`, whatever that means and `Visual Studio 2015`.\nAlso mingw, but I couldn't get it to install the needed dev packages.","files":null},{"type":3,"author":{"id":"81b853802ee58295b1b56dc1253b74e7b177b9de"},"timestamp":1442596466,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTUxMDU3MQ==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141510571"},"message":"CTP = MS term for beta/alpha release. Very unusual for anyone to use a beta compiler but if that is all we have to work with, might as well try it. Maybe CTP4 doesn't have enough of the libc changes to break Perl 5.22 unlike 2015 Gold.\n\nI think I know why the INCLUDE env var is screwed up. Each line in appveyor config file runs in its own console/env. You have to set the env vars and run the make tool in the same command line.\n\nexample\n\n```\n\"C:\\Program Files\\Microsoft Visual Studio .NET 2003\\Vc7\\bin\\vcvars32.bat\" \u0026 dmake CCTYPE=MSVC70\n```\n\nuse nmake instead obviously.\n\nMore detailed testing of the theory. Notice cl and link alone printed nothing (they fatally errored with popups that dlls were missing) but worked fine after the env vars were set.\n\n```\nMicrosoft Windows XP [Version 5.1.2600]\n(C) Copyright 1985-2001 Microsoft Corp.\n\nC:\\Documents and Settings\\Owner\u003ecd C:\\sources\\cperl\\win32\n\nC:\\sources\\cperl\\win32\u003edmakepath\n\nC:\\sources\\cperl\\win32\u003eset PATH=C:\\sperl\\c\\bin;C:\\Program Files\\Windows Resource\n Kits\\Tools\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\system32\\wbem;C:\\Program\nFiles\\ActiveState Perl Dev Kit 8.0\\bin;C:\\Program Files\\ActiveState Komodo IDE 4\n;C:\\Perl\\site\\bin;C:\\Perl\\bin;C:\\Program Files\\Microsoft Visual Studio .NET 2003\n\\Vc7\\bin;C:\\Program Files\\Common Files\\Compuware;C:\\Program Files\\Common Files\\C\nompuware\\NMShared;C:\\Program Files\\Compuware\\DevPartner Studio\\Analysis;C:\\Progr\nam Files\\Git\\cmd;C:\\Program Files\\TortoiseGit\\bin;C:\\Program Files\\OpenVPN\\bin;C\n:\\Program Files\\PDFtk\\bin\\;C:\\Program Files\\LLVM\\bin;C:\\Program Files\\Intel\\WiFi\n\\bin\\\n\nC:\\sources\\cperl\\win32\u003ecl\n\nC:\\sources\\cperl\\win32\u003elink\n\nC:\\sources\\cperl\\win32\u003e\"C:\\Program Files\\Microsoft Visual Studio .NET 2003\\Vc7\\b\nin\\vcvars32.bat\" \u0026 dmake CCTYPE=MSVC70\n\nC:\\sources\\cperl\\win32\u003e\"C:\\Program Files\\Microsoft Visual Studio .NET 2003\\Commo\nn7\\Tools\\vsvars32.bat\"\nSetting environment for using Microsoft Visual Studio .NET 2003 tools.\n(If you have another version of Visual Studio or Visual C++ installed and wish\nto use its tools from the command line, run vcvars32.bat for that version.)\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\dump.obj]\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\pp_sys.obj]\n\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\toke.obj]\ndmake:  makefile.mk:  line 1309:  Warning: -- Duplicate target [mini\\utf8.obj]\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\dump.obj]\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\pp_sys.obj]\n\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\toke.obj]\ndmake:  makefile.mk:  line 1330:  Warning: -- Duplicate target [mini\\utf8.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\dump.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\pp_sys.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\toke.obj]\ndmake:  makefile.mk:  line 1334:  Warning: -- Duplicate target [..\\utf8.obj]\nif not exist \".\\mini\" mkdir \".\\mini\"\nif exist config.h del /f config.h\ncopy config_H.vc config.h\n        1 file(s) copied.\nrem. \u003e .\\mini\\.exists\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\toke.obj -Fdmini\\toke.pdb ..\\toke.c\ntoke.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\regcomp.obj -Fdmini\\regcomp.pdb ..\\regcomp.c\nregcomp.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\regexec.obj -Fdmini\\regexec.pdb ..\\regexec.c\nregexec.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\op.obj -Fdmini\\op.pdb ..\\op.c\nop.c\nop.c(8594) : warning C4244: 'function' : conversion from 'cv_flags_t' to 'char',\n possible loss of data\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\sv.obj -Fdmini\\sv.pdb ..\\sv.c\nsv.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\pp.obj -Fdmini\\pp.pdb ..\\pp.c\npp.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\pp_ctl.obj -Fdmini\\pp_ctl.pdb ..\\pp_ctl.c\npp_ctl.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\pp_sys.obj -Fdmini\\pp_sys.pdb ..\\pp_sys.c\npp_sys.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\pp_pack.obj -Fdmini\\pp_pack.pdb ..\\pp_pack.c\npp_pack.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\pp_hot.obj -Fdmini\\pp_hot.pdb ..\\pp_hot.c\npp_hot.c\ncl -c -nologo -GF -W3 -I.\\include -I. -I.. -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL\nDLL -DPERL_CORE                  -O1 -MD -Zi -DNDEBUG -GL  -DPERL_EXTERNAL_GLOB\n-DPERL_IS_MINIPERL -Fomini\\gv.obj -Fdmini\\gv.pdb ..\\gv.c\ngv.c\nCaught SIGINT. Trying to quit ...\ndmake:  Warning: -- Internal Warning: finished pid 2012 is not in pq!?\nC:\\sources\\cperl\\win32\u003e\n```","files":null},{"type":3,"author":{"id":"81b853802ee58295b1b56dc1253b74e7b177b9de"},"timestamp":1442705799,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTcxOTY1NQ==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141719655"},"message":"Looking at http://www.appveyor.com/docs/installed-software#visual-studio-2013 says they support 2013. Why are you saying you only have a VC 2014 CTP/Beta and 2015 available?","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1442719143,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTc0MDE4Mg==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141740182"},"message":"Interesting, thanks. It's not in their pulldown menu. I'll try them via yaml.","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1442754407,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTc4NDI1NA==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141784254"},"message":"Here we have it. Their documentation is wrong:\nhttps://ci.appveyor.com/project/rurban/cperl/build/5.22.1.144\nJob: `Build worker image 'Visual Studio 2013' not found`","files":null},{"type":3,"author":{"id":"81b853802ee58295b1b56dc1253b74e7b177b9de"},"timestamp":1442785469,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTgzNzczMA==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-141837730"},"message":"```\nVisual Studio Community 2015 RTM with Visual Studio 2015 SDK are installed on a separate build worker image called Visual Studio 2015. You can select build worker image in \"OS\" dropdown on Environment tab of project settings or if you use appveyor.yml add that line:\n```\n\nFrom that paragraph, it sounds like all VC versions EXCEPT 2015 are on some other unnamed image. VC 2015 is in a image just by itself. Sounds like the licensing deal is \"all legacy VC versions come together when appveyor bought the MSDN Super Pro Extra Archive Plus license from MS\" while 2015 is \"current VC version is only available in a license by itself\", hence 2 different images. VC 2013 would be a legacy version since it isnt current.","files":null},{"type":3,"author":{"id":"2c46592fe5ac6cd5197ff7c7415ec720113c58a3"},"timestamp":1449428175,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2MjMzNjgzNg==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-162336836"},"message":"The standard Appveyor image comes with the Windows SDK that includes MSVC 10 (from Visual Studio 2010). But IIRC, you must provide your own `.bat` or `.cmd` file to set up the compiler and run the build. Running something like\n\n```\ncall \"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\vcvarsall.bat\" amd64\n```\n\nfrom `appveyor.yml` doesn't keep the environment variables for subsequent commands. Here's the setup we use for Apache Clownfish:\n\nhttps://github.com/apache/lucy-clownfish/blob/master/appveyor.yml\nhttps://github.com/apache/lucy-clownfish/blob/master/devel/bin/appveyor-build.bat","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1449430661,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2MjM0MDE5NQ==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-162340195"},"message":"Thanks, looks a bit better now. See https://ci.appveyor.com/project/rurban/cperl/build/5.22.2.575/job/qyhmf52pr0ewm4jk","files":null},{"type":3,"author":{"id":"81b853802ee58295b1b56dc1253b74e7b177b9de"},"timestamp":1449452156,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2MjM4NjMzNg==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-162386336"},"message":"```\nNMAKE : fatal error U1077: '..\\miniperl.exe' : return code '0xc0000005'\n```\n\n0xc0000005=SEGV\n\nI tried building cperl on Win32 with master branch at https://github.com/perl11/cperl/commit/35e5d0c861976bbaceafd6bbd2e17e5347f7f8c0 , miniperl didn't segv but ext/Config is C syntax erroring again.","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1449479023,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2MjQ1MzU2MQ==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-162453561"},"message":"Without WIN64=1 it builds miniperl.exe, cperl522.lib and perl.exe, thanks!\nhttps://ci.appveyor.com/project/rurban/cperl/build/job/8204qcsrxo0b6u2m\n\n```\next/Config/Config_xs.in(930) : warning C4129: 'p' : unrecognized character escape sequence\next/Config/Config_xs.in(957) : error C2059: syntax error : ','\next/Config/Config_xs.in(411) : fatal error C1013: compiler limit : too many open parentheses\n```","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1449479881,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2MjQ1NjU5MQ==","github-url":"https://github.com/perl11/cperl/issues/44#issuecomment-162456591"},"message":"Handling the Config error in #78 \nI'll close this, 32bit and mingw support maybe later.","files":null},{"type":4,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1449479881,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDg0MTU1ODM2"},"status":2}]}