{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1464333147,"metadata":{"github-id":"MDU6SXNzdWUxNTcxNDQwOTQ=","github-url":"https://github.com/perl11/cperl/issues/148","origin":"github"},"title":"XSLoader: mro with implicit string $VERSION and @INC callbacks","message":"`mro.pm` does a run-time `XSLoader::load('mro');` with `our $VERSION` being a string.\nThis fails e.g. with `Class-Accessor-Grouped/t/accessors_pp.t` Invalid version format (non-numeric data) at /usr/local/lib/cperl/5.24.0/darwin-debug/mro.pm line 41\nbecause dl_load_file() gets passed an invalid ax (argc 2 not 1) and an invalid 2nd arg.\n\nStrangely no single core-test triggers this bug.\n\nA workaround is to pass the $VERSION argument to load():\n`XSLoader::load('mro', $VERSION);`\n\nThe problem is that ax gets clobbered in  dl_load_file with @INC callbacks being involved. rather re-calc ax from items.","files":null}]}