{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1487080003,"metadata":{"github-id":"MDU6SXNzdWUyMDc1MTk0OTA=","github-url":"https://github.com/perl11/cperl/issues/253","origin":"github"},"title":"fix user-type check for IPC::Run (arg_check assign)","message":"```\nsub _assert_finished {\n  my IPC::Run $self = $_[0];\n```\nWrong type IPC::Run, expected Scalar at /usr/local/lib/cperl/site_cperl/5.25.3/IPC/Run.pm line 3521.\n\n1st Analysis: This assignment is practically an arg check, not a ret check. So match_user_type fails on the wrong variance.\nNeed to detect if the rhs on an assignment is an old-style signature (explicit or implicit @_ elem, shift)\n\n2nd: analysis: Wrong. assignment should be contravariant, same as arg checks already.\nUsing ret_check_type is wrong here, and fake sig detection is not necessary.\nObject = Scalar must match. \ncontravariant: Enables you to use a more generic (less derived) type than originally specified.\ncovariant: Enables you to use a more derived type than originally specified.","files":null}]}