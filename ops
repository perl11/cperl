{"version":1,"ops":[{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1524979518,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4NTIyNzAzOA==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-385227038"},"message":"For me it fails at the AnyEvent ssl tests before. 80_ssltest.t, 81_hosts.t\nNo cpan loop.\n\nAnyEvent fails because of the empty `default_loop_sv`","files":null},{"type":3,"author":{"id":"2061c43c01102efb065766caee8a1ddfe3b31505"},"timestamp":1524982069,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4NTIyODQ4OQ==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-385228489"},"message":"That's strange, I use Net::SSLeay 1.85 with OpenSSL-1.0.2o installed in /usr/local/opt/openssl and all tests pass.\nIf you have newer openssl and get error related with ST_OK you can try this patch for Net::SSLeay:\n```\n--- a/helper_script/regen_openssl_constants.pl\n+++ b/helper_script/regen_openssl_constants.pl\n@@ -148,7 +148,13 @@ while (\u003cDATA\u003e) {\n }\n \n if ($ARGV[0] \u0026\u0026 $ARGV[0] eq '-gen-c') {\n-  my $src = \"/* DO NOT EDIT THIS FILE - update __DATA__ section of helper_script/regen_openssl_constants.pl */\\n\\n\";\n+  my $src = \u003c\u003c'END';\n+/* DO NOT EDIT THIS FILE - update __DATA__ section of helper_script/regen_openssl_constants.pl */\n+\n+#ifndef SSL_ST_OK\n+#define SSL_ST_OK TLS_ST_OK\n+#endif\n+END\n   $src .= MySubClass-\u003eC_constant({breakout=\u003e~0,indent=\u003e20}, @constants);\n   print_output($src, $ARGV[1]);\n   warn \"\\n### do not forget to update (manually) SSLeay.pod(constants list) + SSLeay.pm(\\@EXPORT_OK)\\n\\n\";\n```","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1524987561,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4NTIzMjUxNg==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-385232516"},"message":"Found the problem. I need to use my EV-loop.patch for EV.\n\nError is not repro for me. No cpan loop. Protocol::HTTP2 installed fine.\nErrors in cpan modules need to be fixed manually, possibly by adjusting the distroprefs patches and yml recipes. Mostly by adding a new version number to the YAML.","files":null},{"type":3,"author":{"id":"2061c43c01102efb065766caee8a1ddfe3b31505"},"timestamp":1525003433,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4NTI0NjQ0Nw==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-385246447"},"message":"Some investigation:\n```\n$ cpan Module::Build::Tiny\nReading '/Users/user/.cpan/Metadata'\n  Database was generated on Sun, 29 Apr 2018 03:54:37 GMT\nRunning install for module 'Module::Build::Tiny'\nChecksum for /Users/user/.cpan/sources/authors/id/L/LE/LEONT/Module-Build-Tiny-0.039.tar.gz ok\n  LEONT/Module-Build-Tiny-0.039.tar.gz\n  [configure_requires] -- NOT OK\n```\n\nNo information whats is wrong... I've use dtruss to found that CPAN needs File::HomeDir, after installing File::HomeDir:\n```\n$ cpan Module::Build::Tiny\nReading '/Users/user/.cpan/Metadata'\n  Database was generated on Sun, 29 Apr 2018 03:54:37 GMT\nRunning install for module 'Module::Build::Tiny'\nCPAN: YAML::XS loaded ok (v0.75)\nCPAN: CPAN::Kwalify loaded ok (v5.50)\nCPAN: Digest::SHA loaded ok (v6.01)\nCPAN: Compress::Zlib loaded ok (v2.074)\nChecksum for /Users/user/.cpan/sources/authors/id/L/LE/LEONT/Module-Build-Tiny-0.039.tar.gz ok\nCPAN: CPAN::Meta::Requirements loaded ok (v3.140)\nCPAN: Parse::CPAN::Meta loaded ok (v1.5000)\nCPAN: CPAN::Meta loaded ok (v2.150010)\nCPAN: Module::Build loaded ok (v0.4224)\nCPAN: Module::CoreList loaded ok (v5.20180108)\n  LEONT/Module-Build-Tiny-0.039.tar.gz\n  [configure_requires] -- NOT OK\n```\n\nAgain no information, then I've found 'o conf debug all' option in cpan's shell:\n```\n...\nDebug(Distribution,Distribution.pm,700,[Distribution,Distribution.pm,746,satisfy_configure_requires]): configure_requires[DynaLoader/b/]\nDebug(\n$VAR1 = [\n          [\n            'DynaLoader',\n            'b',\n            ''\n          ]\n        ];\n)\nDebug(Distribution,Distribution.pm,2631,[Distribution,Distribution.pm,727,follow_prereqs]): DynaLoader builtin\n  LEONT/Module-Build-Tiny-0.039.tar.gz\n  [configure_requires] -- NOT OK\n```\n\nSo it didn't see DynaLoader package. How it possible that you don't get same error?","files":null},{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1525605053,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2MTE2NDA1MjE="},"added":["invalid"],"removed":[]},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1525605135,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4Njg3MTY5MQ==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-386871691"},"message":"Maybe you have a wrong CPAN::Distribution in site_cperl? The core CPAN treats DynaLoader as core builtin, the CPAN variant not.","files":null},{"type":3,"author":{"id":"2061c43c01102efb065766caee8a1ddfe3b31505"},"timestamp":1526703649,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MDM3NzQ2NQ==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-390377465"},"message":"I've added pull request for this issue: https://github.com/perl11/cperl/pull/363\nIn my case I've had only DynaLoader in ```@prereq``` returned from ```unsat_prereq```","files":null},{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1526740498,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2MzU1NjkzMTA="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1526740511,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MDQwOTA5Mg==","github-url":"https://github.com/perl11/cperl/issues/361#issuecomment-390409092"},"message":"Thanks, merged PR with 84090a32e95396865be442e957e903bb49a0cf6f","files":null},{"type":4,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1526740511,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTYzNTU2OTM2OQ=="},"status":2}]}