{"version":1,"ops":[{"type":3,"author":{"id":"aae8eab77a12cafb8bd2903823241c9aebd1280a"},"timestamp":1465468367,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNDg1ODE1Mg==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-224858152"},"message":"Hm... I can clearly see YAML [in master](https://github.com/perl11/cperl/tree/master/cpan/YAML-LibYAML)\n\nYet I get this [clear indication YAML is not available](https://travis-ci.org/dbsrgits/dbix-class/jobs/136074035#L767)","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1465468759,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNDg1OTM4Mw==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-224859383"},"message":"Well, cperl provides the old PP YAML and now also the YAML::XS.\n\nLooks more like another Package::Stash::XS bug. So far I've filed 2 pull requests and add 2 more patches to my distroprefs with them, but no reaction since 2015.\nc++ compilation will also fail with Package::Stash::XS, \nand the dependency ExtUtils::MakeMaker::Dist::Zilla::Develop creates wrong code also.\nTheir travis setup is also broken, looks like this module is unmaintained.","files":null},{"type":4,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1465468759,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50Njg3MDYyOTk1"},"status":2},{"type":3,"author":{"id":"aae8eab77a12cafb8bd2903823241c9aebd1280a"},"timestamp":1465469639,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNDg2MjA2Mg==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-224862062"},"message":"I [minimized a test case](https://github.com/ribasushi/dbix-class/blob/5f12f0c0da16b94a85f35918e32c033bd1d312a6/.travis.yml#L123-L136): only compile cperl and nothing else, and then look for -MYAML\n\nThe result [on latest master](https://travis-ci.org/ribasushi/dbix-class/jobs/136394444#L500-L572) is [\"nope\"](https://travis-ci.org/ribasushi/dbix-class/jobs/136394444#L574);","files":null},{"type":4,"author":{"id":"aae8eab77a12cafb8bd2903823241c9aebd1280a"},"timestamp":1465469641,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQ2ODcwNzY4ODc="},"status":1},{"type":3,"author":{"id":"aae8eab77a12cafb8bd2903823241c9aebd1280a"},"timestamp":1465469938,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNDg2Mjk3OA==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-224862978"},"message":"Note - I am specifically looking for `YAML.pm` because this is what your CPAN.pm [is looking for](https://github.com/perl11/cperl/blob/master/cpan/CPAN/lib/CPAN/FirstTime.pm#L934)","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1465553954,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNTE0NjkzNQ==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-225146935"},"message":"cperl provides the old YAML files \n`cpan/CPAN-Meta-YAML/lib/CPAN/Meta/YAML.pm` (i.e YAML::Tiny)\nplus the new `YAML::XS`. YAML.pm from PP YAML was never in perl, and not in cperl.\nIf you specify **YAML** as default YAML reader in your cpan config settings you need to install it.\nRecommended is `YAML::Syck` and now also the cperl version of `YAML::XS`, but YAML::XS is still a bit annoying.\n\nI didn't touch the CPAN default, which is clearly an upstream CPAN bug. YAML should never be the default YAML reader. Either the slow and permissive `CPAN::Meta::YAML` which is in core, or the fast `YAML::Syck` or `YAML::XS` 0.70.\nSee also http://blogs.perl.org/users/rurban/2016/03/more-on-yaml-syck-looks-much-better.html, http://blogs.perl.org/users/rurban/2016/03/on-yaml-and-yamlxs-inconsistencies.html and http://blogs.perl.org/users/rurban/2016/03/yaml-patches-done.html","files":null},{"type":3,"author":{"id":"aae8eab77a12cafb8bd2903823241c9aebd1280a"},"timestamp":1465554511,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNTE0ODU3Mw==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-225148573"},"message":"Right - this is why I filed the issue: perhaps you changing the cperl's CPAN default makes sense, especially given you already provide a yaml lib. After all CPAN.pm _is_ your bootstraping mechanism.","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1465554538,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNTE0ODY1MA==","github-url":"https://github.com/perl11/cperl/issues/155#issuecomment-225148650"},"message":"Yes, I'll be doing that. Good idea.\nNormally you already have perl5 with cpan installed, with the very bad YAML as default reader, which is the worst of all choices. Advanced users changed that to YAML::Syck, 10x faster.\ncperl offers now also a fixed YAML::XS, but I cannot set that as default, because the old YAML::XS will write files that YAML will not be able to read. For compat with perl5. `~/.cpan/` is used by perl5 and cperl.\n\nThe core CPAN::Meta::YAML has no YAML 1.2 feature support:\n\n```\nAlert: While trying to 'dump' YAML file\n '/Users/rurban/.cpan/build/Test-Simple-1.302022-b_dt7C.yml'\nwith 'CPAN::Meta::YAML' the following error was encountered:\n  CPAN::Meta::YAML does not support CPAN::Distribution references at /usr/local/lib/cperl/5.24.0/darwin@de66004/CPAN.pm line 613.\n```\n\nhow lame! working in the `feature/CPAN-Meta-YAML-1.2` branch on that","files":null}]}