{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1441996863,"metadata":{"github-id":"MDU6SXNzdWUxMDYwNjgyNjQ=","github-url":"https://github.com/perl11/cperl/issues/15","origin":"github"},"title":"user type-dispatch (XS and PP)","message":"# Optimizer (compile-time)\n\nWe typed now all ops, and can optimize (up and downgrade) on them.\n\nBut we want to pass native typed data (e.g. INT_PADSV) to subs also, when they allow\nnative types. \n\nWe want to keep optimized sub args when the sub allows it, and don't want to downgrade all typed ops within pushmark.\n# Dispatch (run-time)\n\nOur compile-time type double-dispatch is slow but needs not much memory, we just cycle all type variants until we find it.\n\nThe user-based dispatch needs to be fast, so we need dispatch tables, or even a dynamically adjusted tree. it is also multi-dispatch, not just a simple double dispatch\n\nDamian went in Dios with a too trivial arity check first, while he really should have started from left.","files":null}]}