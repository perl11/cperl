{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1509833174,"metadata":{"github-id":"MDU6SXNzdWUyNzEyMzAxOTA=","github-url":"https://github.com/perl11/cperl/issues/338","origin":"github"},"title":"error on localtime(-1)?","message":"\"Both localtime() \u0026 time() are Perl equivalents of the corresponding C functions and use them internally. But what most Perl programmers probably do not know is that time(3c) will return (( time_t )-1) if it fails for any reason, so localtime(-1) will happily return a formatted date string for 'Wednesday December 31, 1969'.\" Risks Digest 19.88/7.\nhttp://skeena.net/kb/big%20list%20of%20critical%20dates.html#n11\nhttp://catless.ncl.ac.uk/Risks/19/88#subj6\n\n\u003e man 3 time\n\nThe time() function returns the value of time in seconds since 0 hours, 0 minutes, 0\nseconds, January 1, 1970, Coordinated Universal Time, without including leap seconds.\nIf an error occurs, `time()` returns the value `(time_t)-1`\n\nperl allows -1 up to /* Sat Jan  3 00:00:00 -2147481748 */\n#define TIME_LOWER_BOUND -67768100567755200.0\nas valid unix time values.\n\nperl now uses it's own time64.c routines, which go maximally back and forth via time64_t values, and treat error return values seperately.\nnot a bug","files":null}]}