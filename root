{"version":1,"ops":[{"type":1,"author":{"id":"2061c43c01102efb065766caee8a1ddfe3b31505"},"timestamp":1524891632,"metadata":{"github-id":"MDU6SXNzdWUzMTg2MDA3OTk=","github-url":"https://github.com/perl11/cperl/issues/360","origin":"github"},"title":"Perl Debugger + Coro: Bizarre copy of CODE in block exit","message":"I'm trying to use -d or Devel::Trace with Coro to debug another error, but debugger itself fail in this place:\n\n```\nperl -d coro-trace.pl \n\nLoading DB routines from perl5db.pl version 1.51_01c\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(coro-trace.pl:16):       coro( \\\u0026asyncThread);\n  DB\u003c1\u003e r\nBizarre copy of CODE in block exit at /Users/user/perl5/perlbrew/perls/cperl-5.26.2/lib/site_cperl/5.26.2/darwin-2level/Coro.pm line 716.\nDebugged program terminated.  Use q to quit or R to restart,\n```\n\nTested on:\ncperl-5.26.2 - fail\nperl-5.26.2 - fail\nperl-5.24.4 - fail\n**perl-5.14.4 - OK**\n\ncoro-trace.pl:\n```\nuse EV;\nuse Coro::EV;\nuse Coro;\n\n#$Devel::Trace::TRACE = 0;\n\nsub coro {\n        my $sub = shift;\n        my $coro = Coro-\u003enew($sub, @_);\n        $coro-\u003eready();\n        return $coro;\n};\n\nsub asyncThread {};\n\ncoro( \\\u0026asyncThread);\n\nEV::run;\n```","files":null}]}