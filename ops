{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1476711032,"metadata":{"github-id":"MDU6SXNzdWUxODM0MTY1ODA=","github-url":"https://github.com/perl11/cperl/issues/212","origin":"github"},"title":"stabilize flapping smoker tests","message":"more smoker problems with slow docker machines, or such.\n# appveyor:\n- ../ext/Pod-Html/t/crossref.t ......................................\n\n```\nDirectory 'test.lib' exists (it shouldn't yet) - removing it at t/pod2html-lib.pl line 14.\n```\n\nhttps://rt.cpan.org/Ticket/Display.html?id=118416\n# travis darwin:\n\n```\n#   Failed test at t/alarm.t line 202.\ndist/Time-HiRes/t/alarm.t ...................................... Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/10 subtests\nFailed test at t/usleep.t line 42.\n# Looks like you failed 1 test of 6.\n../dist/Time-HiRes/t/usleep.t ..................................... Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/6 subtests \n```\n# 32bit + -Duse64bitint (always): see #213\n\n```\n#   Failed test 'setpayloadsig + issignaling'\n#   at t/math.t line 182.\n# Looks like you failed 1 test of 138.\n../ext/POSIX/t/math.t ............................................. Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/138 subtests \n```\n# gitlab:\n- dist/Time-HiRes/t/utime.t\n\n```\ndist/Time-HiRes/t/utime ....................................... #   Failed test 'atime set correctly'\n#   at t/utime.t line 72.\n#          got: '1'\n#     expected: '1.111111111'\n#   Failed test 'mtime set correctly'\n#   at t/utime.t line 73.\n#          got: '2'\n#     expected: '2.222222222'\n#   Failed test 'atime set correctly'\n#   at t/utime.t line 81.\n#          got: '1'\n#     expected: '1.111111111'\n#   Failed test 'mtime set correctly'\n#   at t/utime.t line 82.\n#          got: '2'\n#     expected: '2.222222222'\n#   Failed test 'File 1 atime set correctly'\n#   at t/utime.t line 92.\n#          got: '1'\n#     expected: '1.111111111'\n#   Failed test 'File 1 mtime set correctly'\n#   at t/utime.t line 93.\n#          got: '2'\n#     expected: '2.222222222'\n#   Failed test 'File 2 atime set correctly'\n#   at t/utime.t line 97.\n#          got: '1'\n#     expected: '1.111111111'\n#   Failed test 'File 2 mtime set correctly'\n#   at t/utime.t line 98.\n#          got: '2'\n#     expected: '2.222222222'\n#   Failed test 'File 1 atime set correctly'\n#   at t/utime.t line 112.\n#     '0.382714033126831'\n#         \u003c\n#     '0.1'\n#   Failed test 'File 1 mtime set correctly'\n#   at t/utime.t line 113.\n#     '0.382714033126831'\n#         \u003c\n#     '0.1'\n#   Failed test 'File 2 atime set correctly'\n#   at t/utime.t line 117.\n#     '0.382714033126831'\n#         \u003c\n#     '0.1'\n#   Failed test 'File 2 mtime set correctly'\n#   at t/utime.t line 118.\n#     '0.382714033126831'\n#         \u003c\n#     '0.1'\n# Looks like you failed 12 tests of 18.\nFAILED at test 2\n```\n\nThis is probably caused by the docker environment hiding the underlying ext2 system.\n- dist/Net-Ping/t/500_ping_icmp ................................. \n\n```\nBad arg length for Socket::unpack_sockaddr_in6, length is 16, should be 28 at ../../lib/Net/Ping.pm line 1897.\n# Looks like you planned 2 tests but ran 1.\n# Looks like your test exited with 255 just after 1.\nFAILED--expected 2 tests, saw 1\n```\n- dist/Net-Ping/t/520_icmp_ttl .................................. \n\n```\nBad arg length for Socket::unpack_sockaddr_in6, length is 16, should be 28 at ../../lib/Net/Ping.pm line 1897.\n# Looks like your test exited with 255 just after 2.\nFAILED--non-zero wait status: 65280\n```\n\nThe last 2 are actually API bugs in Net::Ping, missing a 2nd arg to `_unpack_sockaddr_in()`","files":null}]}