{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1511783805,"metadata":{"github-id":"MDU6SXNzdWUyNzY5OTMzNTY=","github-url":"https://github.com/perl11/cperl/issues/341","origin":"github"},"title":"darwin uselocale() thread-safety","message":"Fix `lib/locale_threads.t` on darwin.\n\n`uselocal()` on darwin is not thread-safe. it tries to free a LC_GLOBAL_LOCALE string even if it's only a magic `(locale_t)-1` value, not a ptr.\n\nSo we disable `uselocal(LC_GLOBAL_LOCALE)` restauration in localized my_strerror() in child threads.","files":null}]}