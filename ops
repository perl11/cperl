{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1484906273,"metadata":{"github-id":"MDU6SXNzdWUyMDIwOTg5MjM=","github-url":"https://github.com/perl11/cperl/issues/244","origin":"github"},"title":"Fix .pmc loading","message":"1. bug: a file loaded from a '.pmc' is lied to, \n`__FILE__` and `CopFILE` misses the final 'c', it is still a '.pm'. Introspection is broken.\nThis is a problem for ByteCache and JitCache logic, which needs to know if was loaded via a .pm or .pmc.\n\n2. bug: do \"/abspath/file.pm\" loads an existing .pmc and not the .pm.\nThis is a problem for partial JitCache where only a part of the .pm is represented in the pmc and the rest needs to be loaded from the .pm. A JitCache for a simple method jit only stores some subs, not the rest.\nAllow do with an absolute .pm path to bypass the pmc. Keep the pmc logic for require even with absolute paths for some time at least.\n\nIt also necessary to re-add the deleted timestamp check logic, which was sacrificed for pugs.","files":null}]}