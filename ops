{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1498819107,"metadata":{"github-id":"MDU6SXNzdWUyMzk3NDIyNjU=","github-url":"https://github.com/perl11/cperl/issues/301","origin":"github"},"title":"missing op/keyword arity checks","message":"several ops don't do the ck_fun/ck_type arity/type checks at compile-time.\n\n* readline(1,2,3) needs to fail at compile-time (fixed with 05fbf23c2e3131d975b8ef318c828c8a1d5ac80d)\n* readpipe(1,2,3)  ck_backtick ditto\n\nLOOPEX:\n```\nlast\t\tlast\t\t\tck_null\t\ts}\tS?\nnext\t\tnext\t\t\tck_null\t\ts}\tS?\nredo\t\tredo\t\t\tck_null\t\ts}\tS?\ndump\t\tdump\t\t\tck_null\t\tds}\tS?\ngoto\t\tgoto\t\t\tck_null\t\ts}\tS?\n```\nthose `}` LOOPEX ops with list args take only the last elem of the list, ignore constants, and side-effect others.\n\n\"Useless use of constant in list at %s()\" warning added with 6ff1fd177e650a03a08ee4e85a345b9b5e4ca1f6\n\ne.g. `label:{next(1,label)` 1 is ignored, `label:{next(print,label)` print is executed.\n\nsee also #302 for `$i or (1,2)` where the whole list after the LOGOP is ignored.\n\nAll BASEOP FUN0 ops and UNOP with matching keywords are protected by the parser already. There's no other ck_null op left.\n\nDONE: checked all remaining ck_ funcs if they check arity, either by calling ck_fun/ck_type or otherwise.","files":null}]}