{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1467647126,"metadata":{"github-id":"MDU6SXNzdWUxNjM3MDEwNjM=","github-url":"https://github.com/perl11/cperl/issues/176","origin":"github"},"title":"add unexec","message":"sources from emacs, and re-enable -u and dump. \nwith support for elf, coff, darwin, cygwin, win32/64, hpux, aix, sunos/solaris, dos.\n\nTODO: \n- probe for [criu](https://criu.org/) and use it.\n- What about the glibc troubles removing malloc_set_state(), outlined in https://lwn.net/Articles/673724/\n  See ep. https://lwn.net/Articles/673815/\n  maybe use a 3rdparty/ptmalloc3 then \n- What about the portable dumper from xemacs instead (dump and nmap)?\n  ported to emacs with http://www.sodan.org/~knagano/emacs/pdump/\n- perl has arenas now for SVs and OPs, so it would only need a B-C compiler like init, esp, for `@dl_modules`, and then mmap the rest. the question is how to avoid all the pointer updates for different bases, or if MAP_FIXED can be used. ASLR is a problem here. See https://stackoverflow.com/questions/6446101/how-do-i-choose-a-fixed-address-for-mmap\n\nSee `feature/gh176-unexec`","files":null}]}