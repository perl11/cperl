{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1443946925,"metadata":{"github-id":"MDU6SXNzdWUxMDk2Njk0NDU=","github-url":"https://github.com/perl11/cperl/issues/60","origin":"github"},"title":"corrupt STASH of STASH 0x18","message":"Does a stash need to have a stash? It crashes on some. Actually a `!SvOBJECT(stash)` is now since 5.18 actually a CV destructor method, and can be 0x1 also.\n\nBest to repro with `perl -e 'use Internals::DumpArenas qw/DumpArenas/; DumpArenas();'`\nwith threads and 5.20 or 5.22.\n\nEither with `%version::` or with `%File::` stashes.\nAt least %File:: has the OVERLOAD flags set.\n\n```\nGV: NAME = File::\n\nSV = PVHV(0x7f8f1a009b00) at 0x7f8f1a027fb8\n  REFCNT = 5\n  FLAGS = (OOK,OVERLOAD,SHAREKEYS)\n  STASH = 0x18Segmentation fault: 11\n```\n\nbecause 0x18 is an invalid stash SV*.\nSee also https://rt.cpan.org/Ticket/Display.html?id=81635\nand https://rt.cpan.org/Ticket/Display.html?id=107459","files":null}]}