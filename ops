{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1493354164,"metadata":{"github-id":"MDU6SXNzdWUyMjQ5Nzc3NDE=","github-url":"https://github.com/perl11/cperl/issues/270","origin":"github"},"title":"getcwd long path support","message":"Our getcwd cannot handle pathnames longer than PATH_MAX (255, 1024 or 4096) in our MAXPATHLEN case.\nLot of our internal path buffers are limited by MAXPATHLEN, even if the libc and filesystem driver supports much longer paths. Which is fine for fast stack allocation, but not needed for general API functions exposed to perl. Such as Cwd::abs_path/realpath, \ngetcwd, getdcwd.\n\ncanonpath and its related catdir and catfile are fine.\nSee https://eklitzke.org/path-max-is-tricky\n\nProbe for `getcwd(NULL)`, which does internally  `get_current_dir_name()`, which can return paths \u003e 4096. \nIf not loop until errno != ENAMETOOLONG.\nAlso do `realpath(path,NULL)`\n\nOn Windows use the WIDE api for long paths and convert UTF16 to UTF8. For now only with getdcwd(), the windows only GetCurrentDirectoryW().","files":null}]}