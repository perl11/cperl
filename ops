{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1449937560,"metadata":{"github-id":"MDU6SXNzdWUxMjE4NjQ0MjI=","github-url":"https://github.com/perl11/cperl/issues/87","origin":"github"},"title":"proto: activate sub inlining without () proto","message":"we have two ways to constant fold subs.\n\nfold to a fast CONSTSUB without entersub\nand fold to a dummy XS call with returning the value immediately.\n\nthere’s no semantic visibility of those 3 variants, other than the required\n() proto or the usage of use constant pragma.  there’s no semantic\ndistinction of constant folded to CONSTSUB, dummy_xs or not constant folded\nsubs, other than improved run-time performance and a different internal\nrepresentation.\n\ndropping the requirement to use the () seems\n1. fair, and\n2. even other prototypes should be allowed to fold\nif those parameters are ignored in the body, when at compile-time the body\nfolds to a constant sv.\n\nbranch `feature/gh87-types-proto`\nWIP: but I am still getting prototype mismatches\n\nCHANGE: set the proto of the created dummy XS to \"\" or \"$\" if a method.","files":null}]}