{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1504421691,"metadata":{"github-id":"MDU6SXNzdWUyNTQ4NTc2MDk=","github-url":"https://github.com/perl11/cperl/issues/330","origin":"github"},"title":"Improve sig handling as PID 1 (bypass kernel 10s timeout)","message":"See http://tech-blog.cv-library.co.uk/2017/08/31/perl-as-pid-1-under-docker/\nlinux treats PID 1 (init) esp. on shutdown, adding a 10 sec timeout (by the kernel).\n`docker run debian perl -E 'sleep 300' ^C [ waits 10s ]`\n\nThere's also the reaping childs problem: https://blog.phusion.nl/2015/01/20/docker-and-the-pid-1-zombie-reaping-problem/\n\ngo does it's own signal handling, thus enables fast shutdown of docker processes.\ncperl could easily do the same, when detecting linux and PID 1 bypassing the kernel's timeout on INT and TERM by adding empty SIG_DFL (i.e. undef) signal handlers for those two.","files":null}]}