{"version":1,"ops":[{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1500041527,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMxNTM2OTYxMA==","github-url":"https://github.com/perl11/cperl/issues/304#issuecomment-315369610"},"message":"This overflow-safe Storable is only in cperl. The official Storable in perl and on CPAN is unsafe to use.\n\nRegarding your \"Apparently your system(SHELLSTRING) cannot catch stack overflows\" error:\nThe fallback to MAX_DEPTH = 512, MAX_DEPTH_HASH = 256 is done correctly, but then it fails.\nI'll look into that why.\n\nIt's either that `dist/Storable/stacksize.h` cannot be written, or that the rebuild with the safe values failed. \nI just pushed a new `smoke/maint-5.26c` 4db359e30f6558040aa7877d911c4b5441ea5137 with better diagnostics.\nYou can also try the temp. tarball from github here soon: https://github.com/perl11/cperl/releases/tag/cperl-tag-deploy-test (when the smokes finished in 2 hours)","files":null},{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1500042566,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDExNjQzODIyNTU="},"added":["blocking"],"removed":[]},{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1500042566,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDExNjQzODIyNTg="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"26749c91fbe2d2c20489d9c951151b60c38adf54"},"timestamp":1500120978,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMxNTUzMDM1Mw==","github-url":"https://github.com/perl11/cperl/issues/304#issuecomment-315530353"},"message":"Hm. I'm not sure if I should be able to make sense of this. I went with the tarball from https://github.com/perl11/cperl/releases/tag/cperl-tag-deploy-test and now I get\n\n```\n[..]\nprobe for max. stack sizes...\n35000 passed, try more 40000 ...\n40000 passed, try more 42500 ...\n42500 passed, try more 43750 ...\n43750 passed, try more 44375 ...\n44375 passed, try more 44687 ...\n44687 passed, try more 44843 ...\n44843 passed, try more 44921 ...\n44921 passed, try more 44960 ...\n44960 passed, try more 44980 ...\n44980 passed, try more 44990 ...\n44990 passed, try more 44995 ...\n44995 passed, try more 44997 ...\n44997 passed, try more 44998 ...\n44998 passed, try more 44999 ...\n44999 passed, try more 44999 ...\nMAX_DEPTH = 44999\n22499 passed, try more 23749 ...\n23749 passed, try more 24374 ...\n24374 passed, try more 24687 ...\n24687 passed, try more 24843 ...\n24843 passed, try more 24921 ...\n24921 passed, try more 24960 ...\n24960 passed, try more 24980 ...\n24980 passed, try more 24990 ...\n24990 passed, try more 24995 ...\n24995 passed, try more 24997 ...\n24997 passed, try more 24998 ...\n24998 passed, try more 24999 ...\n24999 passed, try more 24999 ...\nError: Apparently your system(SHELLSTRING) cannot catch stack overflows\nMAX_DEPTH = 512\nMAX_DEPTH_HASH = 256\n/Applications/Xcode-beta.app/Contents/Developer/usr/bin/make -C dist/Storable PERL_CORE=1\nRunning Mkbootstrap for Storable ()\nchmod 644 \"Storable.bs\"\n\"../../miniperl\" \"-I../../lib\" \"-I../../lib\" \"../../lib/ExtUtils/xsubpp\"  -typemap \"../../lib/ExtUtils/typemap\"  Storable.xs \u003e Storable.xsc \u0026\u0026 mv Storable.xsc Storable.c\ncc -c   -fno-common -DPERL_DARWIN -mmacosx-version-min=10.13 -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -DPERL_USE_SAFE_PUTENV -Wall -Werror=declaration-after-statement -Wextra -Wc++-compat -Wwrite-strings -Wno-incompatible-pointer-types-discards-qualifiers -Wpacked -Wdisabled-optimization -Wno-null-conversion -Wno-implicit-fallthrough -O3   -DVERSION=\\\"3.05_12\\\" -DXS_VERSION=\\\"3.05_12\\\"  \"-I../..\"   Storable.c\nrm -f ../../lib/auto/Storable/Storable.bundle\ncc  -mmacosx-version-min=10.13 -bundle -undefined dynamic_lookup -L/usr/local/lib -fstack-protector-strong Storable.o  -o ../../lib/auto/Storable/Storable.bundle \t\\\n\t     \t\\\n\t  \nchmod 755 ../../lib/auto/Storable/Storable.bundle\n/Users/pipping/Downloads/cperl-cperl-tag-deploy-test/dist/Storable/../../miniperl \"-I../../lib\" \"-I../../lib\" -MExtUtils::Command::MM -e 'cp_nonempty' -- Storable.bs ../../lib/auto/Storable/Storable.bs 644\n\"../../miniperl\" \"-I../../lib\" \"-I../../lib\" \"-I../../lib\" \"-I../../lib\" stacksize\nskip miniperl\nManifying 1 pod document\n \n\tEverything is up to date. Type '/Applications/Xcode-beta.app/Contents/Developer/usr/bin/make test' to run test suite.\n% echo $?\n0\n%\n```\nIn other words: I do not even see any diagnostics because `make` passes. So I take it that tarball contains changes in addition to the new diagnostics on top of 5.26 that fix the issue I was seeing?","files":null},{"type":3,"author":{"id":"26749c91fbe2d2c20489d9c951151b60c38adf54"},"timestamp":1500122027,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMxNTUzMTA5NA==","github-url":"https://github.com/perl11/cperl/issues/304#issuecomment-315531094"},"message":"(It's worth noting btw that afterwards tests pass except for this one):\n\n```\ncpan/B-C/t/c .................................................. #   Failed test 'wanted: \"1\", $? = 11, got: \"\"'\n#   at t/TestBC.pm line 979.\n# Looks like you failed 1 test of 50.\nFAILED at test 39\n```","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1500136301,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMxNTU0NTU4OA==","github-url":"https://github.com/perl11/cperl/issues/304#issuecomment-315545588"},"message":"Nope. 5.26.1c contains the same Storable 3.05_12 as 5.26.0c does, no changes.\nObviously a \"flapping\" build problem. I'll have to close it until we can get nearer to it.\n\nre: t/c.t 39, which is testing for `$a=qr/x/;re::is_regexp($a)`. This is a typical problem with the compiler not detecting a PMOP at startup, storing it in a `%Regexp` hash. You can ignore that for now.","files":null},{"type":4,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1500136301,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTE2NTMzNTA4Mg=="},"status":2}]}