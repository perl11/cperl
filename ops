{"version":1,"ops":[{"type":1,"author":{"id":"26749c91fbe2d2c20489d9c951151b60c38adf54"},"timestamp":1500024264,"metadata":{"github-id":"MDU6SXNzdWUyNDI5NDM1ODI=","github-url":"https://github.com/perl11/cperl/issues/304","origin":"github"},"title":"macOS: Error: Apparently your system(SHELLSTRING) cannot catch stack overflows","message":"I'm trying to build cperl-5.26.0 on macOS 10.13 Beta (17A291m) using the following:\n```\n% /usr/bin/perl --version\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for darwin-thread-multi-2level\n(with 2 registered patches, see perl -V for more detail)\n[..]\n```\nand\n```\n% /usr/bin/clang --version\nApple LLVM version 9.0.0 (clang-900.0.26)\nTarget: x86_64-apple-darwin17.0.0\nThread model: posix\nInstalledDir: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n```\n(I have another perl installed in /usr/local yet hope this should not matter since I `export PATH=/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin` before building).\n\nTo that end, I run\n```\n% ./Configure -Dprefix=/opt/perl5 -sde\n% make\n```\nThis fails in the following way:\n```\n[..]\n./perl -Ilib -I. dist/Storable/stacksize --core\nprobe for max. stack sizes...\n35000 passed, try more 40000 ...\n40000 passed, try more 42500 ...\n42500 passed, try more 43750 ...\n43750 passed, try more 44375 ...\n44375 passed, try more 44687 ...\n44687 passed, try more 44843 ...\n44843 passed, try more 44921 ...\n44921 passed, try more 44960 ...\n44960 passed, try more 44980 ...\n44980 passed, try more 44990 ...\n44990 passed, try more 44995 ...\n44995 passed, try more 44997 ...\n44997 passed, try more 44998 ...\n44998 passed, try more 44999 ...\n44999 passed, try more 44999 ...\nMAX_DEPTH = 44999\n22499 passed, try more 23749 ...\n23749 passed, try more 24374 ...\n24374 passed, try more 24687 ...\n24687 passed, try more 24843 ...\n24843 passed, try more 24921 ...\n24921 passed, try more 24960 ...\n24960 passed, try more 24980 ...\n24980 passed, try more 24990 ...\n24990 passed, try more 24995 ...\n24995 passed, try more 24997 ...\n24997 passed, try more 24998 ...\n24998 passed, try more 24999 ...\n24999 passed, try more 24999 ...\nError: Apparently your system(SHELLSTRING) cannot catch stack overflows\nMAX_DEPTH = 512\nMAX_DEPTH_HASH = 256\nmake: *** [rebuild_storable] Error 1\n```\n\nI do not currently have access to a machine running macOS 10.12 so that I cannot say if this issue is 10.13-specific. What I can say is that building perl-5.26.0 (instead of **c**perl-5.26.0) this way works as expected (I have not run the test suite but at least `make` finishes successfully).\n\nPlease let me know what info I can provide to make a diagnosis possible.","files":null}]}