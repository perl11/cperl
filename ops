{"version":1,"ops":[{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1473881881,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc4OTcwMjc4Mg=="},"added":["enhancement"],"removed":[]},{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1473881881,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc4OTcwMjc4Mw=="},"added":["upstream"],"removed":[]},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1473934248,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0NzI4OTI0OQ==","github-url":"https://github.com/perl11/cperl/issues/201#issuecomment-247289249"},"message":"upstream bug bisected with `git bisect start perl-5.10.0 perl-5.9.0`; \n`git bisect run ../bisect-miniperl.sh`\n\n../bisect-miniperl.sh\n\n```\n#!/bin/sh\n# exit 125 marks it as untestable, == bisect skip\n# exit \u003e128 stops the bisect run immediately.\n\nreset=0\nmake -s -j4 miniperl 2\u003e/dev/null || \\\n    (git reset --hard;\n     git clean -dxf;\n     export reset=1;\n     perl -MDevel::PatchPerl -e'Devel::PatchPerl::patch_source'; \\\n     ./Configure -des -Dusedevel -DEBUGGING \\\n                 -Accflags=-DNODEFAULT_SHAREKEYS \u003e/dev/null 2\u003e/dev/null \u0026\u0026 \\\n     make -s -j4 miniperl 2\u003e/dev/null) || exit 1\n\n./miniperl -Ilib configpm \u0026\u0026 make -s uni.data\nerr=$?\ngit reset --hard\nif [ $reset -ne 0 ]; then\n    git clean -dxf\n    unset reset\nfi\nif [ $err -ne 0 ]; then exit 1; fi\n```\n\nto \n\n```\ncommit a51caccf222faf8588ed061240391957b9a0e70d\nAuthor: Nicholas Clark \u003cnick@ccl4.org\u003e\nDate:   Tue Apr 11 16:17:13 2006 +0000\n\n    Stop Perl_newSVpvn_share() potentially leaking the return result from\n    bytes_from_utf8().\n\n    p4raw-id: //depot/perl@27766\n```","files":null},{"type":5,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1473947568,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc5MDczNzI2NQ=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1473948729,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0NzMzOTYxNw==","github-url":"https://github.com/perl11/cperl/issues/201#issuecomment-247339617"},"message":"benchmarks: simple bench.pl without many hashes: on linux 27% faster with NODEFAULT_SHAREKEYS.\non darwin the fluctuation and loadavg is too high to be meaningful. barely any measurable differences.","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1475145518,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1MDQzMDk2Nw==","github-url":"https://github.com/perl11/cperl/issues/201#issuecomment-250430967"},"message":"It turned out the hash loop itself was stripping HEK_UNSHARED from unshared heks.\nBroken by b2c64049f (Nicholas Clark)  2003-11-22 16:43:09\nand essentially introduced with 19692e8d (Nicholas Clark) 2002-04-06 01:21:17","files":null},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1475159059,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1MDQ4MTIwNA==","github-url":"https://github.com/perl11/cperl/issues/201#issuecomment-250481204"},"message":"Merged with c2ef6c7d09ec29f6b6851383c3e1679c51dae6a5","files":null},{"type":4,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1475159059,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50ODA3MDgwMTMx"},"status":2},{"type":3,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1475417438,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1MDk3MzExMw==","github-url":"https://github.com/perl11/cperl/issues/201#issuecomment-250973113"},"message":"Simple scripts without much hash copying or looping are 20-30% faster, but other scripts are a few percent slower. So we keep NODEFAULT_SHAREKEYS undefined.\n\nIn detail: ../bench.pl is faster, perlbench-run is slower with -DNODEFAULT_SHAREKEYS","files":null}]}