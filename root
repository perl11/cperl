{"version":1,"ops":[{"type":1,"author":{"id":"04135dc995e2fdcd322aaf4268dbf04630a3cc7c"},"timestamp":1497950711,"metadata":{"github-id":"MDU6SXNzdWUyMzcxNDYwNDY=","github-url":"https://github.com/perl11/cperl/issues/297","origin":"github"},"title":"Add -fstack-check","message":"See https://www.qualys.com/2017/06/19/stack-clash/stack-clash.txt why.\nIt adds a NULL byte every 4KB (page) when growing the stack, i.e. many or big local vars, varargs or alloca. https://gcc.gnu.org/onlinedocs/gccint/Stack-Checking.html\nWe don't yet use alloca, but if so check the sign and range of the arg. Check all recursion depths. cperl fixed a regcomp recursion overflow #293 just last week, which is still present in perl5.26. perl5 upstream has a lot of these.\n\nBenchmarks: On linux the slowdown is significant 4-7%, on darwin \u003c 1%.\nBut on Linux/BSD/Solaris it should be recommended. Linux 32bit \u003e2.6 being the worst. Windows is safe.\nExploiting exim on debian 32bit was trivial, and the BSD's are totally unprotected.\n\nCompilers: gcc has it since at least 2.95.3 according to the docs, clang only since 3.6.","files":null}]}